<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>page4</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="wrapper">
  <div class="stage page4">
    <img class="bg" src="image/page4.png" alt="background">
    <div id="fortuneText"></div>
  </div>
</div>

<audio id="bgm" src="sound/bgm.mp3" loop preload="auto"></audio>

<script>
  const negative = [
    "오늘은 모든 일이 엇나갈 수 있습니다.",
    "기대했던 일에서 실망이 찾아옵니다.",
    "작은 실수가 큰 후회로 이어질 수 있습니다.",
    "괜히 나섰다가 손해를 볼 수 있습니다.",
    "사람을 잘못 믿으면 마음이 상합니다.",
    "오늘은 말수가 적을수록 좋습니다.",
    "지금 시작하는 일은 오래가지 못합니다.",
    "조급함이 상황을 더 망칩니다.",
    "괜히 건드렸다가 후회하게 됩니다.",
    "오늘은 혼자 있는 편이 낫습니다.",
    "노력에 비해 결과가 따라주지 않습니다.",
    "예상치 못한 장애물이 나타납니다."
  ];

  const positive = [
    "뜻밖의 행운이 조용히 다가옵니다.",
    "작은 선택이 큰 기회를 부릅니다.",
    "당신의 노력이 드디어 빛을 봅니다.",
    "우연한 만남이 좋은 인연으로 이어집니다.",
    "오늘 한 결정이 오래 기억될 성과가 됩니다.",
    "기다리던 소식이 들려옵니다.",
    "당신을 도와줄 사람이 나타납니다.",
    "생각보다 일이 쉽게 풀립니다.",
    "오늘의 선택이 내일을 바꿉니다.",
    "오래 고민하던 문제가 해결됩니다.",
    "마음먹은 대로 일이 진행됩니다.",
    "지금이 바로 시작하기 좋은 타이밍입니다."
  ];

  function pick(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  const pick1 = localStorage.getItem("bananaPick1");
  const pick2 = localStorage.getItem("bananaPick2");

  const isNeg1 = pick1 % 2 === 1;
  const isNeg2 = pick2 % 2 === 1;

  const text1 = isNeg1 ? pick(negative) : pick(positive);
  const text2 = isNeg2 ? pick(negative) : pick(positive);

  let connector = "그러나,";
  if ((isNeg1 && isNeg2) || (!isNeg1 && !isNeg2)) {
    connector = "또한,";
  }

  document.getElementById("fortuneText").innerText =
    text1 + " " + connector + " " + text2;
</script>

</body>
</html>
